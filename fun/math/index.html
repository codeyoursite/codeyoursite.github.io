<!doctype html>
<html>
<head>
	<title>Maths Game</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
</head>
<body style="padding: 10px;">
	<h1 id="hOne">Maths Game</h1>
	<form id="first">
		<label for="first">What's 12 x 13?</label>
		<input type="text" name="first" id="firstq">
		<input type="submit" value="Check">
	</form>
	<form id="second" style="display: none;">
		<label for="second">What's 14 squared?</label>
		<input type="text" name="second" id="secondq">
		<input type="submit" value="Check">
	</form>
	<form id="third" style="display: none;">
		<label for="third">What's 15 squared?</label>
		<input type="text" name="third" id="thirdq">
		<input type="submit" value="Check">
	</form>
	<form id="fourth" style="display: none;">
		<label for="fourth">What's 12 - -6?</label>
		<input type="text" name="fourth" id="fourthq">
		<input type="submit" value="Check">
	</form>
	<form id="fifth" style="display: none;">
		<label for="fifth">What's 20 x 21?</label>
		<input type="text" name="fifth" id="fifthq">
		<input type="submit" value="Check">
	</form>
	<iframe src="../tictactoecmm" id="iframe" style="height: 70vh; width: 70vw;"></iframe>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script>
		let index = 0;
		let score = 0;
		let noms = ["first", "second", "third", "fourth", "fifth"];
		document.getElementById("iframe").style.display = "none";
		document.getElementById("first").addEventListener("submit", function(e) {
			e.preventDefault();
			let val = document.getElementById("firstq").value;
			if (val == (12 * 13)) {
				score++;
				Swal.fire({
				  title: "Good job!",
				  text: "You are correct!",
				  icon: "success"
				});
				document.getElementById("first").style.display = "none";
				document.getElementById("second").style.display = "block";
				iframe(0);
			} else {
				score--;
				Swal.fire({
				  title: "You are incorrect.",
				  text: "Please try again",
				  icon: "error"
				});
			}
		});
		document.getElementById("second").addEventListener("submit", function(e) {
			e.preventDefault();
			let val = document.getElementById("secondq").value;
			if (val == (14 * 14)) {
				score++;
				Swal.fire({
				  title: "Good job!",
				  text: "You are correct!",
				  icon: "success"
				});
				document.getElementById("second").style.display = "none";
				document.getElementById("third").style.display = "block";
				iframe(1);
			} else {
				score--;
				Swal.fire({
				  title: "You are incorrect.",
				  text: "Please try again",
				  icon: "error"
				});
			}
		});
		document.getElementById("third").addEventListener("submit", function(e) {
			e.preventDefault();
			let val = document.getElementById("thirdq").value;
			if (val == (15 * 15)) {
				score++;
				Swal.fire({
				  title: "Good job!",
				  text: "You are correct!",
				  icon: "success"
				});
				document.getElementById("third").style.display = "none";
				document.getElementById("fourth").style.display = "block";
				iframe(2);
			} else {
				score--;
				Swal.fire({
				  title: "You are incorrect.",
				  text: "Please try again",
				  icon: "error"
				});
			}
		});
		document.getElementById("fourth").addEventListener("submit", function(e) {
			e.preventDefault();
			let val = document.getElementById("fourthq").value;
			if (val == (12 + 6)) {
				score++;
				Swal.fire({
				  title: "Good job!",
				  text: "You are correct!",
				  icon: "success"
				});
				document.getElementById("fourth").style.display = "none";
				document.getElementById("fifth").style.display = "block";
				iframe(3);
			} else {
				score--;
				Swal.fire({
				  title: "You are incorrect.",
				  text: "Please try again",
				  icon: "error"
				});
			}
		});
		document.getElementById("fifth").addEventListener("submit", function(e) {
			e.preventDefault();
			let val = document.getElementById("fifthq").value;
			if (val == (20 * 21)) {
				score++;
				Swal.fire({
				  title: "Good job!",
				  text: "You are correct!",
				  icon: "success"
				});
				document.getElementById("fifth").style.display = "none";
				document.getElementById("hOne").textContent = "Well done! Your score: " + score;
				iframe(4);
			} else {
				score--;
				Swal.fire({
				  title: "You are incorrect.",
				  text: "Please try again",
				  icon: "error"
				});
			}
		});
		function iframe(nom) {
			console.log("Inside iframe func")
			index++;
			document.getElementById("iframe").style.display = "block";
			document.getElementById(noms[nom + 1]).style.display = "none";
			if (index == 5) {
				document.getElementById("iframe").style.display = "none";
			}
			let monitor = setInterval(function(){
				let elem = document.activeElement;
				if (elem && elem.tagName == "iframe"){
					setTimeout(function() {
						document.getElementById("iframe").style.display = "none";
						document.getElementById(noms[nom + 1]).style.display = "block";
					}, 160);
					clearInterval(monitor);
				}
			}, 100);
		}
	</script>
</body>
</html>